<!DOCTYPE html>
<html lang="en-us">
  <head>
    <title>Systems - Date</title>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="theme-color" content="#ffffff"><meta name="Description" content="Systems Date">
    <link rel="stylesheet" type="text/css" href="style.css">
    <script src="systems.js"></script>
    <style>
      html, body {
        padding: 0;
        margin: 0;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
    </style>
  </head>
  <body>
    <p id="date" class="big"></p>
    <p id="time"></p>
    <p id="stats" class="small lighter"></p>
    <script>
      const displayDate = document.getElementById('date');
      const displayTime = document.getElementById('time');
      const displayStats = document.getElementById('stats');
      function update() {
        const now = Calendar.now;

        displayDate.innerText = `${now.year} ${now.monthName} ${now.dayOfMonth}`;
        displayTime.innerText = [now.hour,now.minute,now.second].map(t => String(t).padStart(2, '0')).join(':');
        displayStats.innerText = [
          `W${now.week}`,
          `D${now.dayOfYear}`,
          `${Math.floor(now.percentOfYearComplete * 100)}%Y`,
          `${Math.floor(now.percentOfMonthComplete * 100)}%M`,
          `${Math.floor(now.percentOfWeekComplete * 100)}%W`,
          `${Math.floor(now.percentOfDayComplete * 100)}%D`
        ].join(`${String.fromCharCode(160)} ${String.fromCharCode(160)}`);

      }
      update();
      setInterval(update, 1000);
    </script>
  </body>
</html>